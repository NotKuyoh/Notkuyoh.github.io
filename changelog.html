<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JOI - Features Overview</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="Logo.svg" type="image/svg+xml" />
  </head>
  <body>
    <header>
      <div class="logo">
        <a href="index.html"><h1>JOI</h1></a>
        <p>Your Personal Smart Home Voice Assistant</p>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="features.html">Features</a></li>
          <li><a href="changelog.html">Changelog</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </nav>
      <!-- Burger menu icon -->
      <div class="burger-menu" id="burger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </header>

    <div class="wrapper">
      <main id="updates-page">
        <div class="updates-container">
          <h2 class="updates-title">Changelog</h2>
          <p class="updates-description">
            Track JOI's latest progress and features!
          </p>

          <!-- November 2024 Entry -->
          <div class="update-entry">
            <button class="toggle-header" aria-expanded="false">
              <span>November 2024</span>
              <span class="toggle-icon">+</span>
            </button>
            <div class="update-content" aria-hidden="true">
              <ul>
                <li>
                  <strong>Improved Weather Forecast Functionality:</strong>
                  Integrated a 3-day weather forecast using the Open-Meteo API.
                  Added German formatting for better local clarity. Enhanced
                  prompts to guide AI models in analyzing the forecast
                  effectively.
                </li>
                <li>
                  <strong>Application Restart Functionality:</strong>
                  Implemented a robust restart mechanism for the application
                  using <code>os.execv</code>. Added error handling to manage
                  potential restart issues gracefully.
                </li>
                <li>
                  <strong>Loading Animation Improvements:</strong>
                  The loading animation now runs seamlessly and triggers speech
                  handling after 5 seconds for better synchronization.
                </li>
                <li>
                  <strong>Fallback Response Enhancements:</strong>
                  Improved handling of fallback responses, ensuring that the
                  application dynamically responds to incomprehensible commands
                  while maintaining UI consistency.
                </li>
                <li>
                  <strong>PyQt Signal Enhancements:</strong>
                  Refined PyQt signal mechanisms to ensure real-time UI updates
                  and synchronization during speech processing and loading
                  animations.
                </li>
                <li>
                  <strong>Code Refinements:</strong>
                  Improved modularity and error handling across several
                  features. Enhanced UI updates with PyQt signals to maintain
                  consistency.
                </li>
                <li>
                  <strong>Improved UI Design and Layout:</strong>
                  Redesigned the user interface to enhance usability and
                  aesthetics:
                  <ul>
                    <li>
                      Optimized the layout for better accessibility, ensuring
                      clear navigation and responsive design across devices.
                    </li>
                    <li>
                      Improved color contrast to align with accessibility
                      standards, ensuring a better experience for visually
                      impaired users.
                    </li>
                    <li>
                      Simplified interaction patterns, reducing cognitive load
                      for users by creating a more intuitive experience.
                    </li>
                  </ul>
                </li>
                <li>
                  <div class="update-image">
                    <img
                      src="Ui_compare.png"
                      alt="Comparison of UI design before and after improvements"
                    />
                    <p class="image-caption">
                      A comparison of the UI design before and after the
                      improvements in November 2024.
                    </p>
                  </div>
                </li>
                <li>
                  <strong>Debugging and Testing:</strong>
                  Verified weather forecast, application restart, fallback
                  responses, and loading animation integration for smooth
                  functionality.
                </li>
              </ul>
            </div>
          </div>

          <!-- September 2024 Entry -->
          <div class="update-entry">
            <button class="toggle-header" aria-expanded="false">
              <span>September 2024</span>
              <span class="toggle-icon">+</span>
            </button>
            <div class="update-content" aria-hidden="true">
              <ul>
                <li>
                  Added voice-interruption feature allowing the wakeword to be
                  used anytime.
                </li>
              </ul>
            </div>
          </div>

          <!-- August 2024 Entry -->
          <div class="update-entry">
            <button class="toggle-header" aria-expanded="false">
              <span>August 2024</span>
              <span class="toggle-icon">+</span>
            </button>
            <div class="update-content" aria-hidden="true">
              <ul>
                <li>
                  Integrated real-time conversation processing with Ollama AI
                  model for seamless interaction.
                </li>
              </ul>
            </div>
          </div>
        </div>
      </main>
    </div>

    <footer>
      <p>© 2024 JOI™ - Your Personal Smart Home Voice Assistant</p>
    </footer>

    <script>
      // Select the burger menu and nav elements
      const burgerMenu = document.getElementById("burger-menu");
      const navMenu = document.querySelector("nav ul");

      // Toggle 'active' and 'menu-open' classes when burger menu is clicked
      burgerMenu.addEventListener("click", function () {
        navMenu.classList.toggle("active");
        burgerMenu.classList.toggle("menu-open"); // This adds the downward shift
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const toggles = document.querySelectorAll(".toggle-header");
        toggles.forEach((toggle) => {
          toggle.addEventListener("click", () => {
            const content = toggle.nextElementSibling;
            const isExpanded = toggle.getAttribute("aria-expanded") === "true";

            // Close all open content
            document.querySelectorAll(".update-content").forEach((c) => {
              c.style.maxHeight = null;
              c.setAttribute("aria-hidden", "true");
            });
            document.querySelectorAll(".toggle-header").forEach((t) => {
              t.setAttribute("aria-expanded", "false");
              t.querySelector(".toggle-icon").textContent = "+";
            });

            // Toggle the clicked content
            if (!isExpanded) {
              toggle.setAttribute("aria-expanded", "true");
              toggle.querySelector(".toggle-icon").textContent = "−";
              content.style.maxHeight = content.scrollHeight + "px";
              content.setAttribute("aria-hidden", "false");
            }
          });
        });
      });
    </script>
  </body>
</html>
